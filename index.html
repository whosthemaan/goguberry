<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday Surprise ðŸŽ‚</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Georgia', serif;
    text-align: center;
    background: #0b0c10;
    color: #fff;
    overflow: hidden;
  }

  .welcome-img {
    max-width: 90%;    /* allow it to fill most of the screen width */
    max-height: 500px; /* allow it to be taller */
    width: auto;
    height: auto;
  }

  /* Fireworks canvas */
  #fireworks {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    z-index: 0;
    background: #000;
  }

  .page {
    position: absolute;
    top:0; left:0;
    width:100%; height:100%;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1;
    animation: fadeIn 1s ease;
  }
  .active { display: flex; }

  h1, h2 {
    margin-bottom: 20px;
    color: #fff;
    text-shadow: 0 0 10px rgba(255,255,255,0.6);
  }

  img {
    max-width: 70%;
    max-height: 300px;
    border-radius: 12px;
    margin-bottom: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.5);
  }

  input {
    padding: 10px;
    border-radius: 8px;
    border: none;
    font-size: 16px;
    text-align: center;
    margin-bottom: 10px;
  }
  button {
    padding: 10px 20px;
    border-radius: 8px;
    border: none;
    font-size: 16px;
    cursor: pointer;
    background: #e94560;
    color: #fff;
  }
  button:hover {
    background: #ff6f91;
  }

  @keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
  }

  .letter {
    max-width: 600px;
    font-size: 18px;
    line-height: 1.6;
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 20px;
  }

  video {
    width: 60%;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
  }
</style>
</head>
<body>

<canvas id="fireworks"></canvas>
<audio id="quizSound" src="romance.mp3" loop></audio>


<!-- Welcome Page -->
<div id="welcome" class="page active">
  <h1>Miss Rajashree Hazarika,</h1>
  <h1>wish you a very happy 25th birthday!!!</h1>
  <img src="3.jpeg" alt="welcome" class="welcome-img">
  <audio id="firecrackerSound" src="firework.mp3"></audio>
  <button onclick="startExperience()">Tap to Begin</button>
</div>

<!-- Quiz Intro Page -->
<div id="intro" class="page">
  <h1>âœ¨ A Surprise Awaits âœ¨</h1>
  <h2>But first, you need to complete a very short quiz ðŸ’«</h2>
  <h2>You also have images for reference :D</h2>
</div>

<!-- Questions -->
<div id="q1" class="page">
  <h2>when did we officially start dating?? [format - mm/dd/yyyy]</h2>
  <img src="4.jpeg" alt="Question 1 image">
  <input type="text" id="a1" placeholder="Your answer">
  <button onclick="checkAnswer(1)">Submit</button>
  <p id="hint1"></p>
</div>

<div id="q2" class="page">
  <h2>what did I cook for you the first night you stayed over?</h2>
  <img src="1.jpeg" alt="Question 2 image">
  <input type="text" id="a2" placeholder="Your answer">
  <button onclick="checkAnswer(2)">Submit</button>
  <p id="hint2"></p>
</div>

<div id="q3" class="page">
  <h2>which of your favorite food did we try that day together for the first time?</h2>
  <img src="5.jpeg" alt="Question 3 image">
  <input type="text" id="a3" placeholder="Your answer">
  <button onclick="checkAnswer(3)">Submit</button>
  <p id="hint3"></p>
</div>

<div id="q4" class="page">
  <h2>our very first dinner date was at?</h2>
  <img src="2.jpeg" alt="Question 4 image">
  <input type="text" id="a4" placeholder="Your answer">
  <button onclick="checkAnswer(4)">Submit</button>
  <p id="hint4"></p>
</div>

<!-- Surprise Page -->
<div id="surprise" class="page">
  <h2>Yayyyyyyy!!! Youuu diddd ittt!</h2>
  <div class="letter">
    Dear Gogu berry,
    you mean the world to me. Thank you for being the most wonderful part of my life.  
    Iâ€™m so lucky to share this journey with you and I can't wait to see whats ahead 
    from here on. I love you and I wish you a very happy birthday again! Here is a short video, enjoy!
  </div>
  <video id="surpriseVideo" controls>
    <source src="gogu_video.mp4" type="video/mp4">
    Your browser doesnâ€™t support the video tag.
  </video>
</div>

<script>
  // Flow: welcome (5s) â†’ intro (5s) â†’ q1
  const firecrackerSound = document.getElementById("firecrackerSound");
  const surpriseVideo = document.getElementById("surpriseVideo");

  function startExperience() {
    // ðŸŽ† start firecracker sound safely on click
    if (firecrackerSound) {
      firecrackerSound.currentTime = 0;
      firecrackerSound.loop = true;
      firecrackerSound.play().catch(err => console.log("Audio play failed:", err));
    }

    // hide the button
    document.querySelector("#welcome button").style.display = "none"; 

    // after 5s â†’ go to intro
    setTimeout(() => {
      document.getElementById("welcome").classList.remove("active");
      document.getElementById("intro").classList.add("active");

      // after another 5s â†’ go to Q1
      setTimeout(() => {
        document.getElementById("intro").classList.remove("active");
        document.getElementById("q1").classList.add("active");

        // stop firecracker sound
        if (firecrackerSound) {
          firecrackerSound.pause();
          firecrackerSound.currentTime = 0;
        }

        // start quiz music
        quizSound.currentTime = 0;
        quizSound.loop = true;
        quizSound.play().catch(err => console.log("Quiz music failed:", err));
      }, 7000);

    }, 7000);
  }

  surpriseVideo.addEventListener("play", () => {
  quizSound.pause();
  quizSound.currentTime = 0;
  });

  const answers = {
    1: "05/22/2024",     // <-- change to your real answers
    2: "shrimp curry",
    3: "sushi",
    4: "olive garden"
  };

  function checkAnswer(num) {
    const input = document.getElementById("a"+num).value.trim().toLowerCase();
    if (input === answers[num]) {
      document.getElementById("q"+num).classList.remove("active");
      if (num < 4) {
        document.getElementById("q"+(num+1)).classList.add("active");
      } else {
        document.getElementById("surprise").classList.add("active");
        // quizSound.pause();
        // quizSound.currentTime = 0;
      }
    } else {
      document.getElementById("hint"+num).innerText = "Hmmâ€¦ not quite, try again ðŸ’­";
    }
  }

  // ðŸŽ† Fireworks Animation
  const canvas = document.getElementById("fireworks");
  const ctx = canvas.getContext("2d");
  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  let fireworks = [];
  let particles = [];

  class Firework {
    constructor() {
      this.x = Math.random() * canvas.width;
      this.y = canvas.height;
      this.targetY = Math.random() * canvas.height/2;
      this.size = 2;
      this.color = `hsl(${Math.random()*360},100%,50%)`;
      this.speed = 3 + Math.random()*2;
    }
    update() {
      this.y -= this.speed;
      if (this.y <= this.targetY) {
        for(let i=0; i<60; i++) particles.push(new Particle(this.x, this.y, this.color));
        fireworks.splice(fireworks.indexOf(this),1);
      }
    }
    draw() {
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
      ctx.fill();
    }
  }

  class Particle {
    constructor(x,y,color) {
      this.x = x;
      this.y = y;
      this.size = 2;
      this.color = color;
      this.speedX = Math.random()*6-3;
      this.speedY = Math.random()*6-3;
      this.alpha = 1;
    }
    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.alpha -= 0.02;
      if (this.alpha <= 0) particles.splice(particles.indexOf(this),1);
    }
    draw() {
      ctx.globalAlpha = this.alpha;
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
      ctx.fill();
      ctx.globalAlpha = 1;
    }
  }

  function animate() {
    ctx.fillStyle = "rgba(0,0,0,0.2)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    if (Math.random()<0.05) fireworks.push(new Firework());
    fireworks.forEach(fw=>{fw.update(); fw.draw();});
    particles.forEach(p=>{p.update(); p.draw();});
    requestAnimationFrame(animate);
  }
  animate();
</script>

</body>
</html>
